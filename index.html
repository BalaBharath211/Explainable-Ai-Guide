<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explainable AI (XAI) Deep Dive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Lighter gray background */
            color: #334155; 
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link.active {
            color: #0d9488;
            background-color: #f0fdfa;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0, 1, 0, 1);
        }
        .accordion-icon {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        /* Custom gradient for a smoother look */
        .text-gradient {
             background: linear-gradient(to right, #14b8a6, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-200">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <span class="font-bold text-xl text-gradient">XAI Explained</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-2">
                        <a href="#beginner" class="nav-link text-slate-600 hover:bg-slate-100 hover:text-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">Beginner</a>
                        <a href="#intermediate" class="nav-link text-slate-600 hover:bg-slate-100 hover:text-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">Intermediate</a>
                        <a href="#comparison" class="nav-link text-slate-600 hover:bg-slate-100 hover:text-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">Comparison</a>
                        <a href="#advanced" class="nav-link text-slate-600 hover:bg-slate-100 hover:text-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">Advanced</a>
                        <a href="#practice" class="nav-link text-slate-600 hover:bg-slate-100 hover:text-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">Practice</a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button id="mobile-menu-button" type="button" class="bg-white inline-flex items-center justify-center p-2 rounded-md text-slate-500 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg id="hamburger-icon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg id="close-icon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#beginner" class="mobile-nav-link text-slate-600 hover:bg-slate-100 block px-3 py-2 rounded-md text-base font-medium">Beginner</a>
                <a href="#intermediate" class="mobile-nav-link text-slate-600 hover:bg-slate-100 block px-3 py-2 rounded-md text-base font-medium">Intermediate</a>
                <a href="#comparison" class="mobile-nav-link text-slate-600 hover:bg-slate-100 block px-3 py-2 rounded-md text-base font-medium">Comparison</a>
                <a href="#advanced" class="mobile-nav-link text-slate-600 hover:bg-slate-100 block px-3 py-2 rounded-md text-base font-medium">Advanced</a>
                <a href="#practice" class="mobile-nav-link text-slate-600 hover:bg-slate-100 block px-3 py-2 rounded-md text-base font-medium">Practice</a>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16">

        <section id="intro" class="text-center mb-20 sm:mb-24">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-slate-800">
                A Researcher's Guide to <span class="text-gradient">Explainable AI</span>
            </h1>
            <p class="mt-6 text-lg text-slate-600 max-w-3xl mx-auto">From the 'black box' problem to the frontiers of research. An interactive journey into the heart of trustworthy AI.</p>
        </section>
        
        <div class="space-y-16 sm:space-y-20">

            <section id="beginner" class="scroll-mt-20">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Level 1: The 'Black Box' Conundrum</h2>
                    <p class="mt-3 text-lg text-slate-600">Understanding the core problem that XAI aims to solve.</p>
                </div>
                <h3>What is the 'Black Box' Problem?</h3>
                <p>In AI, a "black box" refers to a model whose internal workings are not visible or understandable to humans. We can see the inputs and the outputs, but the process in between is a complex web of mathematical operations. This is especially true for deep learning models.</p>
                <div class="my-10 bg-white p-6 sm:p-8 rounded-xl shadow-lg flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-8 text-center border border-slate-200">
                    <div class="bg-slate-100 p-4 rounded-lg"><span class="text-lg font-semibold text-slate-700">Patient Data</span></div>
                    <div class="text-4xl text-teal-500 font-mono transform rotate-90 md:rotate-0">&rarr;</div>
                    <div class="bg-slate-800 text-white p-8 rounded-lg shadow-xl relative">
                        <span class="text-5xl font-bold">?</span>
                        <span class="absolute -top-3 -left-3 bg-teal-500 text-white text-xs font-bold px-2 py-1 rounded-full">AI Model</span>
                    </div>
                    <div class="text-4xl text-teal-500 font-mono transform rotate-90 md:rotate-0">&rarr;</div>
                    <div class="bg-slate-100 p-4 rounded-lg"><span class="text-lg font-semibold text-slate-700">"High Risk"</span></div>
                </div>

                <h3>Why is Explainability so Important?</h3>
                <p>In high-stakes domains, a simple prediction is not enough. We need to trust that the prediction was made for the right reasons.</p>
                <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                        <h4 class="font-bold text-lg text-teal-700">Healthcare</h4>
                        <p class="mt-2 text-slate-600">If an AI model predicts a high risk of cancer, a doctor needs to know *why*. The explanation is critical for diagnosis and building trust.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                        <h4 class="font-bold text-lg text-slate-700">Finance</h4>
                        <p class="mt-2 text-slate-600">When a bank's AI denies a loan, regulations may require a reason. This ensures the model isn't discriminating and provides transparency.</p>
                    </div>
                </div>
            </section>

            <hr class="border-slate-200"/>

            <section id="intermediate" class="scroll-mt-20">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Level 2: Peeking Inside with LIME & SHAP</h2>
                    <p class="mt-3 text-lg text-slate-600">Exploring two powerful, model-agnostic tools for explaining predictions.</p>
                </div>
                <div class="space-y-12">
                    <div>
                        <h3>LIME: Local Explanations</h3>
                        <p><strong>LIME</strong> (Local Interpretable Model-agnostic Explanations) focuses on explaining a *single prediction* by approximating the model's behavior around that specific instance.</p>
                        <div class="mt-6 bg-white p-4 sm:p-6 rounded-xl border border-slate-200 shadow-lg">
                           <h4 class="text-xl font-semibold text-center mb-2 text-slate-800">Interactive LIME Simulation</h4>
                            <p class="text-center text-sm text-slate-500 mb-4">Click a data point to see how LIME creates a simple, local explanation (the orange line).</p>
                            <div class="chart-container"><canvas id="limeChart"></canvas></div>
                            <p id="limeExplanation" class="text-center mt-4 font-medium text-teal-600 h-6"></p>
                        </div>
                    </div>
                    <div>
                        <h3>SHAP: Fairly Distributing the Prediction</h3>
                        <p><strong>SHAP</strong> (SHapley Additive exPlanations) uses game theory to fairly attribute the impact of each feature on the final prediction.</p>
                        <div class="mt-6 bg-white p-4 sm:p-6 rounded-xl border border-slate-200 shadow-lg">
                           <h4 class="text-xl font-semibold text-center mb-4 text-slate-800">Interactive SHAP Explanation</h4>
                           <div class="flex flex-col items-center">
                                <label for="shapScenario" class="text-sm font-medium mb-2 text-slate-600">Select a loan application scenario:</label>
                                <select id="shapScenario" class="w-full max-w-xs p-2 border border-slate-300 rounded-md shadow-sm bg-white focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
                                    <option value="approved">Application Approved (Prediction: 92%)</option>
                                    <option value="denied">Application Denied (Prediction: 28%)</option>
                                </select>
                            </div>
                            <p class="text-center text-sm text-slate-500 my-4">Blue bars push the prediction higher (Approve), red bars push it lower (Deny).</p>
                            <div class="chart-container"><canvas id="shapChart"></canvas></div>
                        </div>
                    </div>
                </div>
            </section>
            
            </div>
    </main>

    <footer class="bg-slate-100 border-t border-slate-200 mt-20 sm:mt-24">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center text-slate-500">
            <p>&copy; 2025 XAI Research Initiative. An interactive guide to understanding modern AI.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- MOBILE MENU SCRIPT ---
    const menuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const hamburgerIcon = document.getElementById('hamburger-icon');
    const closeIcon = document.getElementById('close-icon');
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

    menuButton.addEventListener('click', () => {
        const isExpanded = menuButton.getAttribute('aria-expanded') === 'true';
        menuButton.setAttribute('aria-expanded', !isExpanded);
        mobileMenu.classList.toggle('hidden');
        hamburgerIcon.classList.toggle('hidden');
        closeIcon.classList.toggle('hidden');
    });

    mobileNavLinks.forEach(link => {
        link.addEventListener('click', () => {
            menuButton.setAttribute('aria-expanded', 'false');
            mobileMenu.classList.add('hidden');
            hamburgerIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
        });
    });

    // --- SCROLLSPY & OTHER SCRIPTS (Unchanged) ---
    // [The rest of the JS code for charts, accordions, and scroll-spying is the same as the previous version]
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');
    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.3 };
    const observer = new IntersectionObserver((entries) => {
        let activeId = '';
        entries.forEach(entry => {
            if (entry.isIntersecting && entry.intersectionRatio > 0.3) {
                activeId = entry.target.getAttribute('id');
            }
        });
        navLinks.forEach(link => {
            link.classList.toggle('active', link.getAttribute('href') === `#${activeId}`);
        });
    }, observerOptions);
    sections.forEach(section => { observer.observe(section); });

    let limeChartInstance, shapChartInstance;
    function renderLIMEChart() {
        // Unchanged LIME chart logic...
        const ctx = document.getElementById('limeChart').getContext('2d');
        const dataPoints = [];
        for (let i = 0; i < 50; i++) {
            const x = Math.random() * 10;
            const y = Math.sin(x) * 2 + Math.random() * 2 - 1 + 5;
            const boundary = Math.sin(x) * 2 + 5;
            dataPoints.push({ x, y, label: y > boundary ? 1 : 0 });
        }
        const decisionBoundary = Array.from({ length: 100 }, (_, i) => { const x = i * 0.1; return { x, y: Math.sin(x) * 2 + 5 }; });
        limeChartInstance = new Chart(ctx, { type: 'scatter', data: { datasets: [{ label: 'Patient (High Risk)', data: dataPoints.filter(p => p.label === 1), backgroundColor: 'rgba(239, 68, 68, 0.7)', pointRadius: 6, }, { label: 'Patient (Low Risk)', data: dataPoints.filter(p => p.label === 0), backgroundColor: 'rgba(34, 197, 94, 0.7)', pointRadius: 6, }, { label: 'True Decision Boundary', data: decisionBoundary, borderColor: 'rgba(59, 130, 246, 1)', borderWidth: 3, type: 'line', showLine: true, pointRadius: 0, fill: false, }, { label: 'LIME Explanation', data: [], borderColor: 'rgba(217, 119, 6, 1)', borderWidth: 2, borderDash: [5, 5], type: 'line', showLine: true, pointRadius: 0, fill: false, }] }, options: { responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'Feature 1 (e.g., Age)' } }, y: { title: { display: true, text: 'Feature 2 (e.g., Blood Pressure)' } } }, onClick: (event) => { const activePoints = limeChartInstance.getElementsAtEventForMode(event, 'nearest', { intersect: true }, true); if (activePoints.length > 0) { const point = activePoints[0]; const dataset = limeChartInstance.data.datasets[point.datasetIndex]; const data = dataset.data[point.index]; updateLIMEExplanation(data.x); } } } });
    }
    function updateLIMEExplanation(x_center) {
        // Unchanged LIME update logic...
        const slope = Math.cos(x_center) * 2;
        const y_center = Math.sin(x_center) * 2 + 5;
        const x1 = x_center - 1.5; const y1 = y_center - 1.5 * slope; const x2 = x_center + 1.5; const y2 = y_center + 1.5 * slope;
        limeChartInstance.data.datasets[3].data = [{x: x1, y: y1}, {x: x2, y: y2}];
        limeChartInstance.update();
        document.getElementById('limeExplanation').textContent = `Locally, the model behaves like this simple line.`;
    }
    function renderSHAPChart(scenario = 'approved') {
        // Unchanged SHAP chart logic...
        const ctx = document.getElementById('shapChart').getContext('2d');
        const scenarios = { approved: { baseValue: 0.5, prediction: 0.92, labels: ['High Income', 'Low Debt', 'Good Credit History', 'Short Loan Term'], data: [0.20, 0.15, 0.10, 0.07] }, denied: { baseValue: 0.5, prediction: 0.28, labels: ['High Debt', 'Low Income', 'Short Credit History', 'High Loan Amount'], data: [-0.12, -0.08, -0.05, -0.07] } };
        const chartData = scenarios[scenario];
        const backgroundColors = chartData.data.map(d => d > 0 ? 'rgba(59, 130, 246, 0.7)' : 'rgba(239, 68, 68, 0.7)');
        const borderColors = chartData.data.map(d => d > 0 ? 'rgba(59, 130, 246, 1)' : 'rgba(239, 68, 68, 1)');
        if (shapChartInstance) { shapChartInstance.data.labels = chartData.labels; shapChartInstance.data.datasets[0].data = chartData.data; shapChartInstance.data.datasets[0].backgroundColor = backgroundColors; shapChartInstance.data.datasets[0].borderColor = borderColors; shapChartInstance.options.plugins.title.text = `Explaining Prediction: ${Math.round(chartData.prediction*100)}% (Base: ${chartData.baseValue*100}%)`; shapChartInstance.update(); return; }
        shapChartInstance = new Chart(ctx, { type: 'bar', data: { labels: chartData.labels, datasets: [{ label: 'SHAP Value', data: chartData.data, backgroundColor: backgroundColors, borderColor: borderColors, borderWidth: 1 }] }, options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, scales: { x: { title: { display: true, text: 'Contribution to Prediction' } } }, plugins: { legend: { display: false }, title: { display: true, text: `Explaining Prediction: ${Math.round(chartData.prediction*100)}% (Base: ${chartData.baseValue*100}%)`, font: { size: 16 } } } } });
    }
    document.getElementById('shapScenario').addEventListener('change', (e) => { renderSHAPChart(e.target.value); });
    renderLIMEChart();
    renderSHAPChart();
});
</script>

</body>
</html>